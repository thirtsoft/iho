<div class="page-wrapper">
  <div class="content container-fluid">
    <div class="page-header">
      <div class="row">
        <div class="col-sm-7 col-auto">
          <h3 class="page-title">Patients</h3>
          <ul class="breadcrumb">
            <li class="breadcrumb-item">
              <a [routerLink]="'/admin/'">Tableau de bord</a>
            </li>
            <li class="breadcrumb-item active"> {{title}}</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <form [formGroup]="patientFormGroup">
              <input
                type="text"
                readonly="true"
                hidden="true"
                matInput
                formControlName="id"
              />
              <div class="row form-row">
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Index <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="code"
                      required
                      placeholder="index du patient"
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Civilité <span class="text-danger">*</span></label>
                    <select
                      class="form-control select"
                      name="civilite"
                      formControlName="civilite"
                      required=""
                    >
                      <option>Selectionnez</option>
                      <option
                        *ngFor="let civilite of civilites"
                        [value]="civilite"
                      >
                        {{ civilite }}
                      </option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="row form-row">
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label
                      >Situation matrimonial
                      <span class="text-danger">*</span></label
                    >
                    <select
                      class="form-control select"
                      name="situationMatrimonial"
                      formControlName="situationMatrimonial"
                      required=""
                    >
                      <option>Selectionnez</option>
                      <option
                        *ngFor="let item of situationMatrimoniaux"
                        [value]="item"
                      >
                        {{ item }}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label
                      >Nationalite <span class="text-danger">*</span></label
                    >
                    <input
                      type="text"
                      formControlName="nationalite"
                      required
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <div class="row form-row">
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Prénom <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="prenom"
                      required
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Nom <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="nom"
                      required
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <div class="row form-row">
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Sexe <span class="text-danger">*</span></label>
                    <select
                      class="form-control select"
                      name="sexe"
                      formControlName="sexe"
                      required=""
                    >
                      <option>Selectionnez</option>
                      <option *ngFor="let item of typeSexe" [value]="item">
                        {{ item }}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Profession <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="profession"
                      required
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <div class="row form-row">
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label
                      >Date naissance<span class="text-danger">*</span></label
                    >
                    <input
                      type="date"
                      formControlName="dateNaissance"
                      (input)="calculateAgeOfPatient()"
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Age <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="age"
                      readonly
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <div class="row form-row">
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Adresse <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="address"
                      required
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-6 col-sm-12">
                  <div class="form-group">
                    <label>Téléphone <span class="text-danger">*</span></label>
                    <input
                      type="text"
                      formControlName="numeroTelephone"
                      required
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <label>Avez-vous une personne de confiance ?</label>
              <div class="row form-row">
                <div class="col-lg-12 col-sm-12">
                  <div
                    class="form-check form-check-inline col-md-2"
                    style="margin-left: 1.2em"
                  >
                    <input
                      class="form-check-input"
                      type="radio"
                      name="est_accompagne"
                      id="inlineRadio1"
                      [value]="true"
                      formControlName="est_accompagne"
                    />
                    <label class="form-check-label title2" for="inlineRadio1"
                      >Oui</label
                    >
                  </div>
                  <div
                    class="form-check form-check-inline col-md-2"
                    style="margin-left: 1.2em"
                  >
                    <input
                      class="form-check-input"
                      type="radio"
                      name="est_accompagne"
                      id="inlineRadio2"
                      [value]="false"
                      formControlName="est_accompagne"
                    />
                    <label class="form-check-label title2" for="inlineRadio2"
                      >Non</label
                    >
                  </div>
                </div>
              </div>
              <div
                class="row form-row"
                *ngIf="patientFormGroup.get('est_accompagne')?.value === true"
                formGroupName="personneConfianceDs"
              >
                <div class="col-lg-3 col-sm-12">
                  <div class="form-group">
                    <label>Prénom</label>
                    <input
                      type="text"
                      formControlName="prenom"
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-3 col-sm-12">
                  <div class="form-group">
                    <label>Nom</label>
                    <input
                      type="text"
                      formControlName="nom"
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-3 col-sm-12">
                  <div class="form-group">
                    <label>Téléphone</label>
                    <input
                      type="text"
                      formControlName="telephone"
                      class="form-control"
                    />
                  </div>
                </div>
                <div class="col-lg-3 col-sm-12">
                  <div class="form-group">
                    <label>Email</label>
                    <input
                      type="text"
                      formControlName="email"
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
            </form>
            <div style="margin-top: 25px col-sm-12">
              <button
                type="button"
                class="btn btn-success si_accept_confirm float-lg-right"
                id="btn-yes"
                (click)="ajouterPatient()"
              >
                Enregistrer
              </button>
              <button 
                type="button" 
                class="btn btn-danger si_accept_cancel float-left"
                >
                Annuler
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
